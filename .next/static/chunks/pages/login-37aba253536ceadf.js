(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{6774:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(7550)}])},7550:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(4848),n=r(6540),i=r(6715);function c(){let[e,t]=(0,n.useState)(null),[r,c]=(0,n.useState)(!0),[o,a]=(0,n.useState)(null),l=(0,i.useRouter)();return((0,n.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth/session"),r=await e.json();r.user&&(t(r.user),l.push("/home"))}catch(e){console.error("Error checking session:",e),a("Error checking session. Please try again.")}finally{c(!1)}})()},[l]),(0,n.useEffect)(()=>{let{error:e}=l.query;"auth_failed"===e?a("Authentication failed. Please try again."):"not_authorized"===e&&a("You are not authorized to access this application.")},[l.query]),r)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsx)("div",{className:"text-2xl font-semibold text-foreground",children:"Loading..."})}):e?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsx)("div",{className:"text-2xl font-semibold text-foreground",children:"Redirecting..."})}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"p-8 bg-accent rounded-lg shadow-md",children:[(0,s.jsx)("h1",{className:"mb-6 text-3xl font-bold text-center text-card-foreground",children:"You must be logged in"}),o&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-destructive/20 border border-destructive text-destructive-foreground rounded",children:o}),(0,s.jsxs)("button",{onClick:()=>{window.location.href="/api/auth/steam"},className:"flex items-center justify-center w-full px-4 py-2 text-primary-foreground bg-primary rounded hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50",children:[(0,s.jsx)("svg",{className:"w-6 h-6 mr-2",width:"256px",height:"259px",viewBox:"0 0 256 259",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M127.778579,0 C60.4203546,0 5.24030561,52.412282 0,119.013983 L68.7236558,147.68805 C74.5451924,143.665561 81.5845466,141.322185 89.1497766,141.322185 C89.8324924,141.322185 90.5059824,141.340637 91.1702465,141.377541 L121.735621,96.668877 L121.735621,96.0415165 C121.735621,69.1388208 143.425688,47.2457835 170.088511,47.2457835 C196.751333,47.2457835 218.441401,69.1388208 218.441401,96.0415165 C218.441401,122.944212 196.751333,144.846475 170.088511,144.846475 C169.719475,144.846475 169.359666,144.83725 168.99063,144.828024 L125.398299,176.205276 C125.425977,176.786507 125.444428,177.367738 125.444428,177.939743 C125.444428,198.144443 109.160732,214.575753 89.1497766,214.575753 C71.5836817,214.575753 56.8868387,201.917832 53.5655182,185.163615 L4.40997549,164.654462 C19.6326942,218.967277 69.0834655,258.786219 127.778579,258.786219 C198.596511,258.786219 256,200.847629 256,129.393109 C256,57.9293643 198.596511,0 127.778579,0 Z",fill:"currentColor"})})}),"Login with Steam"]})]})})}},6715:(e,t,r)=>{e.exports=r(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6774)),_N_E=e.O()}]);